webpackJsonp([14],{"0o9H":function(t,a){},l9rr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});e("OgVB");var n=e("/Lyv"),s=e.n(n),i=e("mvHQ"),l=e.n(i),u={name:"accessset",data:function(){return{value1:!1,value2:!1,value3:!1,value4:!1,value5:!1,access:[],accessList:{},isManager:""}},methods:{formatedata:function(){var t=this;t.access.forEach(function(a){var e=a.nLevel;t["value"+e]=1==a.nStatus})},Compileddata:function(){var t=this;t.access.forEach(function(a){var e=a.nLevel;a.nStatus=1==t["value"+e]?1:2})},GetAuthList:function(){var t=this,a={params:{functionname:"GetAuthList",body:l()({nClubId:parseInt(t.nClubId),nPlayerId:parseInt(t.nPlayerId)})}};this.$http.get(this.baseUrl+"/Main/GetData",a).then(function(a){var e=a.data;1==e.code?e.totalCount>0&&(t.access=e.body,t.formatedata()):s()("提示",e.msg)}).catch(function(t){s()("提示",t)})},setManagerHttp:function(){var t=this,a=void 0;if((a=(this.value1?"1,":"")+(this.value2?"2,":"")+(this.value3?"3,":"")+(this.value4?"4,":"")+(this.value5?"5,":"")).length<=0)return s()("提示","初次设置管理器权限至少要选择一个权限"),!1;a.endsWith(",")&&(a=a.substr(0,a.length-1));var e={functionname:"SetManage",body:l()({nClubId:parseInt(t.nClubId),nPlayerId:parseInt(t.nPlayerId),openAuthIds:a})};console.log(e),this.$http.post(this.baseUrl+"/Main/PostData",e).then(function(a){var e=a.data;1==e.code?s.a.confirm(e.msg+",你是否要查看该管理员资料?","提示").then(function(a){t.$router.go(-1)},function(){}):s()("提示",e.msg)}).catch(function(t){s()("提示",t)})},SetAuth:function(){this.Compileddata();var t={functionname:"SetAuth",body:l()(this.access)};this.$http.post(this.baseUrl+"/Main/PostData",t).then(function(t){var a=t.data;a.code,s()("提示",a.msg)}).catch(function(t){s()("提示","出错了")})}},created:function(){this.nClubId=this.$route.params.nClubId,this.nPlayerId=this.$route.params.nPlayerId,this.isManager=this.$route.params.isManager,222==parseInt(this.isManager)&&this.GetAuthList()},mounted:function(){}},c={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"accessset"}},[e("mt-header",{attrs:{title:"权限设置",fixed:!0}},[e("mt-button",{attrs:{slot:"left",icon:"back"},nativeOn:{click:function(a){t.$router.go(-1)}},slot:"left"},[t._v("返回")])],1),t._v(" "),e("mt-cell",{staticClass:"nobckimg",attrs:{title:"赠送俱乐部积分"}},[e("span",[e("mt-switch",{model:{value:t.value1,callback:function(a){t.value1=a},expression:"value1"}},[t._v(t._s(1==t.value1?"开启":"禁用"))])],1)]),t._v(" "),e("mt-cell",{attrs:{title:"扣除俱乐部积分"}},[e("span",[e("mt-switch",{model:{value:t.value5,callback:function(a){t.value5=a},expression:"value5"}},[t._v(t._s(1==t.value5?"开启":"禁用"))])],1)]),t._v(" "),e("mt-cell",{attrs:{title:"踢出俱乐部"}},[e("span",[e("mt-switch",{model:{value:t.value2,callback:function(a){t.value2=a},expression:"value2"}},[t._v(t._s(1==t.value2?"开启":"禁用"))])],1)]),t._v(" "),e("mt-cell",{attrs:{title:"同意加入俱乐部"}},[e("span",[e("mt-switch",{model:{value:t.value3,callback:function(a){t.value3=a},expression:"value3"}},[t._v(t._s(1==t.value3?"开启":"禁用"))])],1)]),t._v(" "),e("mt-cell",{attrs:{title:"修改分成比例"}},[e("span",[e("mt-switch",{model:{value:t.value4,callback:function(a){t.value4=a},expression:"value4"}},[t._v(t._s(1==t.value4?"开启":"禁用"))])],1)]),t._v(" "),e("div",{staticStyle:{padding:"15px 10px"}},[222==parseInt(t.isManager)?e("mt-button",{attrs:{type:"danger",size:"large"},nativeOn:{click:function(a){t.SetAuth(a)}}},[t._v("保存设置")]):t._e()],1),t._v(" "),e("div",{staticStyle:{padding:"15px 10px"}},[333==parseInt(t.isManager)?e("mt-button",{attrs:{type:"danger",size:"large"},nativeOn:{click:function(a){t.setManagerHttp(a)}}},[t._v("保存设置")]):t._e()],1)],1)},staticRenderFns:[]};var r=e("VU/8")(u,c,!1,function(t){e("0o9H")},"data-v-01c12e56",null);a.default=r.exports}});
//# sourceMappingURL=14.20ee548944edf9b31c57.js.map